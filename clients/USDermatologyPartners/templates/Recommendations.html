<script runat="server">
	Platform.Load('core', '1.1');

	var html = '<div style="max-height: 100%; max-width: 600px; position: relative; overflow: hidden; margin: 20px auto; text-align: center;">';
	html += '<div style="display: table; width: 100%; max-height: 100%;">';

	try {
		var Catalog_Data = Platform.Function.ParseJSON(Attribute.GetValue('Recommendations'));

		for (var i = 0; i < Catalog_Data.length; i++) {
			html += '<span style="display: inline-block; margin-top: 10px;">';
			html += '    <a href="' + Catalog_Data[i].url + '" style="display: block; width: 300px; overflow: hidden;">';
			html += '        <img src="' + Catalog_Data[i].imageUrl + '" style="border: 0; width: 90%; margin: 10px;">';
			html += '    </a>';
			html += '    <div style="padding: 0px; margin: 0px; width: 300px; height: 105px; overflow: hidden;">';
			html += '        <h3 style="padding: 0px; margin: 10px; font-size: 16px; line-height: 20px; overflow: hidden;">';
			html += '            ' + Catalog_Data[i].name;
			html += '        </h3>';
			html += '        <p style="padding: 0px; margin: 10px; font-size: 14px;">';
			html += '            Price: $' + Catalog_Data[i].price;
			html += '        </p>';
			html += '        <button type="button" style="background-color: #231F20; border: 1px solid #231F20;">';
			html += '            <a href="' + Catalog_Data[i].url + '" target="_blank" style="color: #FFFFFF; text-align: center; text-decoration: none;">';
			html += '                View Item';
			html += '            </a>';
			html += '        </button>';
			html += '    </div>';
			html += '</span>';
		}
	} catch (err) {
		html += '<!--smth went wrong when rendering items-->';
	}

	html += '</div>';
	html += '</div>';

	Write(html);
</script>
